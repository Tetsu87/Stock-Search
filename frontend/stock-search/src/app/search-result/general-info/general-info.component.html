<div class="container">
  <div
    *ngIf="displayWatchlistAdded"
    class="displayWatchlistAdded myDisplay fw-light py-2 my-2"
  >
    <div>{{ ticker }} added to Watchlist.</div>
    <div class="toRight">
      <button type="button" class="displayOffBtn" (click)="displayOff()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="gray"
          class="bi bi-x"
          viewBox="0 0 16 16"
        >
          <path
            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
          />
        </svg>
      </button>
    </div>
  </div>

  <div
    *ngIf="displayWatchlistRemoved"
    class="displayWatchlistRemoved myDisplay fw-light py-2 my-2"
  >
    <div>{{ ticker }} removed from Watchlist.</div>
    <div class="toRight">
      <button type="button" class="displayOffBtn" (click)="displayOff()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="gray"
          class="bi bi-x"
          viewBox="0 0 16 16"
        >
          <path
            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
          />
        </svg>
      </button>
    </div>
  </div>

  <div
    *ngIf="displayStockBought"
    class="displayStockBought myDisplay fw-light py-2 my-2"
  >
    <div>{{ ticker }} bought successfully.</div>
    <div class="toRight">
      <button type="button" class="displayOffBtn" (click)="displayOff()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="gray"
          class="bi bi-x"
          viewBox="0 0 16 16"
        >
          <path
            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
          />
        </svg>
      </button>
    </div>
  </div>
  <div
    *ngIf="displayStockSold"
    class="displayStockSold myDisplay fw-light py-2 my-2"
  >
    <div>{{ ticker }} sold successfully.</div>
    <div class="toRight">
      <button type="button" class="displayOffBtn" (click)="displayOff()">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="gray"
          class="bi bi-x"
          viewBox="0 0 16 16"
        >
          <path
            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
          />
        </svg>
      </button>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-5 col-sm-4">
      <div class="fs-2 text-nowrap">
        <span>
          {{ ticker }}

          <button
            class="btn align-top addWatchlist"
            (click)="toggleWatchlist()"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-star-fill"
              viewBox="0 0 16 16"
              [ngClass]="isRegistered()"
            >
              <!-- <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-star-fill"
              viewBox="0 0 16 16"
              [ngClass]="isRegistered() ? 'registered' : 'not-registered'"
            > -->
              <path
                d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
              />
            </svg>
          </button>
        </span>
      </div>
      <div class="fs-4 company-name">
        {{ descriptions?.name }}
      </div>
      <div class="fw-light company-exchange">
        {{ descriptions?.exchange }}
      </div>
      <div class="text-nowrap">
        <!-- <button type="button" class="btn btn-buy">Buy</button> -->
        <modal
          [ticker]="ticker"
          [currentPrice]="currentPrice"
          [name]="name"
          (displayStockBoughtOn)="displayStockBoughtOn()"
          (isInventoryExist)="isInventoryExist()"
        >
        </modal>
        <!-- <div *ngIf="inventoryFlag"> -->

        <app-sell-modal
          class="mx-2"
          [ticker]="ticker"
          [currentPrice]="currentPrice"
          [name]="name"
          (displayStockSoldOn)="displayStockSoldOn()"
          (isInventoryExist)="isInventoryExist()"
          *ngIf="inventoryFlag"
        >
        </app-sell-modal>
      </div>
    </div>

    <div class="col-2 col-sm-4 text-center">
      <div>
        <img id="logo" src="{{ descriptions?.logo }}" />
      </div>
    </div>

    <div class="col-5 col-sm-4 text-end">
      <div
        class="fs-2"
        [ngClass]="isPositive() ? 'positiveNumber' : 'negativeNumber'"
      >
        {{ latestPrices?.c | number: "1.2-2" }}
      </div>
      <!-- <div class="col-4 text-end">
      <div
        class="fs-2"
        [ngStyle]="{'color': latestPrices?.d >=0 ? 'green':'red'} "
      >
        {{ latestPrices?.c | number: "1.2-2" }}
      </div> -->

      <div
        class="fs-5 text-end"
        [ngClass]="isPositive() ? 'positiveNumber' : 'negativeNumber'"
      >
        <div class="diff">
          <span class="diffNumber text-nowrap">
            <span
              [ngClass]="
                isPositive()
                  ? 'positiveNumberTriangle'
                  : 'negativeNumberTriangle'
              "
              >&#9699;</span
            >
            {{ latestPrices?.d | number: "1.2-2" }}

            <br class="desktop-hidden" />
            ({{ latestPrices?.dp | number: "1.2-2" }} %)
          </span>
        </div>
      </div>

      <div class="displayDate">
        <!-- {{ displayDate }} -->
        <!-- {{ latestPrices?.t * 1000 | date: "yyyy-MM-dd HH:mm:ss" }} -->
        {{ currentTimeToDisplay | date: "yyyy-MM-dd HH:mm:ss" }}

      </div>
    </div>
  </div>
</div>

<div *ngIf="isMarketOpen">
  <div class="market-open text-center mt-3 fw-bold">Market is Open</div>
</div>

<div *ngIf="isMarketOpen === false" class="market-close text-center mt-3 fw-bold">
  <div class="market-open text-center mt-3 fw-bold">Market Closed on {{ latestPrices?.t * 1000 | date: "yyyy-MM-dd HH:mm:ss" }}</div>
</div>



